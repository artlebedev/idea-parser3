<html>
<head>
    <META HTTP-EQUIV="Content-Type" CONTENT="text/html;charset=iso-8859-1">
    <meta name="keywords" content="comment *,auto.p,if">
    <title>Lesson 3. First step—news section</title>

    <script language="JavaScript"><!--
    if(top.frames.length==0) {
        top.location.href='./?lesson3.htm'
    } else {
        if(document.referrer!='' && 0>document.referrer.indexOf(top.frames[0].location.pathname)) {
            top.frames[0].location.hash='lesson3.htm'
        }
    }
    //--></script>

</head>

<body bgcolor="#FFFFFF" text="black">


<table border="0" cellspacing="0" cellpadding="2">
  <tr>
    <td>
      
<span style="font-family:FreeSetC,Arial; font-size:12pt; color:#000000"><b>Lesson 3. First step-news section
<br>
</b></span>
    </td>
  </tr>
  <tr><td bgcolor="#99D228" height="3"></td></tr>
</table>
<br>



<span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">During the previous two lessons we have made up the general structure of our site. It is now nothing but an empty box and we should fill it. Nearly every site has a news section and so will ours. As we start a new section, we should first make up a menu for it. Here, we will do just the same. Our menu for news section will look like a calendar-the thing all people are well accustomed to.
<br>

<br>
To create a calendar with pure HTML is not an easy task and the code will be rather huge, but as you will see, Parser will do it quite easy. Let's go.
<br>

<br>
All files related to news section we will locate in directory <span style="font-family:Monospace; font-size:10pt; color:#000000">/news/</span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">-as we have previously indicated in </span><span style="font-family:Monospace; font-size:10pt; color:#000000">sections.cfg</span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">. First, we will create there file </span><span style="font-family:Monospace; font-size:10pt; color:#000000">auto.p</span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">. Surprised? Yes, we can create </span><span style="font-family:Monospace; font-size:10pt; color:#000000">auto.p</span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000"> files in any directory. Still, we should remember that the functions we place into these files will be accessible only to the directory they are in (including subdirectories). The reason is that we shouldn't overload one </span><span style="font-family:Monospace; font-size:10pt; color:#000000">auto.p</span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000"> file with ALL functions, so, we should relieve our main </span><span style="font-family:Monospace; font-size:10pt; color:#000000">auto.p</span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000"> of section-dependent functions and keep there only those functions, which we will need for ALL directories (such functions as, probably, </span><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>footer</b></span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000"> or </span><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>header</b></span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">). The directory-dependent stuff we will place in </span><span style="font-family:Monospace; font-size:10pt; color:#000000">auto.p</span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000"> files in relevant directories.
<br>

<br>
One more thing: <i>if we redefine a function in a section's auto.p-thus overriding the function </i><i>with</i><i> the same name defined in root auto.p-root function will be ignored in favor of the section's function</i>. The virtual functions mechanism described in the previous lesson will be triggered.
<br>

<br>
Let's get back to our codes. To </span><span style="font-family:Monospace; font-size:10pt; color:#000000">/news/auto.p</span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000"> we add the code:</span><span style="font-family:FreeSetC,Arial; font-size:12pt; color:#000000">
<br>
</span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">
<br>
</span><span style="font-family:Monospace; font-size:10pt; color:#000000"><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b>@calendar[]
<br>
$calendar_locale[
<br>
&nbsp;&nbsp;&nbsp;$.month_names[
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$.1[</b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b>January</b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b>]
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$.2[</b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b>February</b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b>]
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$.3[</b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b>March</b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b>]
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$.4[</b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b>April</b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b>]
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$.5[</b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b>May</b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b>]
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$.6[</b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b>June</b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b>]
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$.7[</b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b>July</b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b>]
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$.8[</b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b>August</b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b>]
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$.9[</b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b>September</b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b>]
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$.10[</b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b>October</b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b>]
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$.11[</b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b>November</b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b>]
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$.12[</b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b>December</b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b>]
<br>
&nbsp;&nbsp;&nbsp;]
<br>
&nbsp;&nbsp;&nbsp;$.day_names[
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$.0[Sun]
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$.1[Mon]
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$.2[Tu]
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$.3[Wed]
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$.4[Thurs]
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$.5[Fri]
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$.6[Sat]
<br>
&nbsp;&nbsp;&nbsp;]
<br>
&nbsp;&nbsp;&nbsp;$.day_colors[
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$.0[#000000]
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$.1[#000000]
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$.2[#000000]
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$.3[#000000]
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$.4[#000000]
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$.5[#800000]
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$.6[#800000]
<br>
&nbsp;&nbsp;&nbsp;]
<br>
]
<br>
$now[^</b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b><a href=datenow.htm>date::now</a></b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b>[]]
<br>
$days[^</b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b><a href=datecalendarmonth.htm>date:calendar</a></b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b>[</b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b>eng</b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b>]($now.year;$now.month)]
<br>
</b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>&lt;center&gt;
<br>
&lt;table&nbsp;bgcolor="#000000"&nbsp;cellspacing="1"&gt;
<br>
&nbsp;&nbsp;&nbsp;&lt;tr&gt;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;td&nbsp;bgcolor="#FFFFFF"&nbsp;colspan="7"&nbsp;align="center"&gt;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;b&gt;</b><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b>$calendar_locale.month_names.[$now.</b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b><a href=datefields.htm>month</a></b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b>]</b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>&lt;/b&gt;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/td&gt;
<br>
&nbsp;&nbsp;&nbsp;&lt;/tr&gt;
<br>
&nbsp;&nbsp;&nbsp;&lt;tr&gt;</b><b>
<br>
</b><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b>&nbsp;&nbsp;&nbsp;</b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b>&nbsp;&nbsp;&nbsp;^</b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b><a href=opfor.htm>for</a></b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b>[week_day](0;6){
<br>
</b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;td&nbsp;width="14%"&nbsp;align="center"&nbsp;bgcolor="#A2D0F2"&gt;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;font&nbsp;color="</b><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b>$calendar_locale.day_colors.$week_day</b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>"&gt;
<br>
</b><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$calendar_locale.day_names.$week_day
<br>
</b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/font&gt;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/td&gt;
<br>
</b><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
<br>
</b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>&nbsp;&nbsp;&nbsp;&lt;/tr&gt;
<br>
</b><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b>^days.</b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b><a href=tablemenu.htm>menu</a></b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b>{
<br>
</b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>&nbsp;&nbsp;&nbsp;&lt;tr&gt;
<br>
</b><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^</b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b><a href=opfor.htm>for</a></b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b>[week_day](0;6){
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^if($days.$week_day){
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^if($days.$week_day</b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b><a href=exprops.htm>==</a></b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b>$now.day){
<br>
</b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;td&nbsp;align="center"&nbsp;bgcolor="#FFFF00"&gt;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;font&nbsp;color="</b><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b>$calendar_locale.day_colors.$week_day</b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>"&gt;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;b&gt;</b><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b>$days.$week_day</b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>&lt;/b&gt;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/font&gt;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/td&gt;</b><b>
<br>
</b><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<br>
</b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;td&nbsp;align="center"&nbsp;bgcolor="#FFFFFF"&gt;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;font&nbsp;color="</b><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b>$calendar_locale.day_colors.$week_day</b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>"&gt;
<br>
</b><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$days.$week_day
<br>
</b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/font&gt;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/td&gt;
<br>
</b><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}{
<br>
</b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;td&nbsp;bgcolor="#DFDFDF"&gt;&amp;nbsp&lt;/td&gt;&nbsp;&nbsp;&nbsp;
<br>
</b><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
<br>
</b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>&nbsp;&nbsp;&nbsp;&lt;/tr&gt;
<br>
</b><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b>}
<br>
</b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>&lt;/table&gt;
<br>
&lt;/center&gt;
<br>
</b></span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">
<br>
We have just defined function </span><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>calendar</b></span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">, which creates HTML-code of our calendar. At first, the code may seem unexpectedly big, but it's only because we are trying to handle a more complicated task. Let's now see what we've done:
<br>

<br>
The biggest piece of our code-that, which starts with </span><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>$calendar_locale</b></span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">-appears strange. Look at it closely: we seem to define some data for our calendar, and it resembles a table. The piece we define as </span><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>$calendar_locale</b></span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000"> is called 'hash' or 'associative array.' Why do we need it? As you can see, we link the ordinal numbers of months and days of the week with their names in English, and link hexadecimal color values with certain numbers. Uh-huh! Now it's getting clearer. We need hash to link (associate) a name with an object. In our case, we link numerical values of months and days of the week with their names (strings). Parser uses object model, so a string is also an object. It's quite easy to get ordinal number of a month, but a calendar for "May" seems more sensible for a human eye than a calendar for "5," and names of the days given in calendar like 0, 1, or 2 instead of Sunday, Monday, or Tuesday will look completely crazy. That's why we create an associative array.
<br>

<br>
A general way of assigning variables-hashes is like this:
<br>
</span><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>
<br>
</b><b>$name[
<br>
&nbsp;&nbsp;&nbsp;&nbsp;$.key[value]
<br>
]
<br>
</b></span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">
<br>
Such a construction allows further referring to a hash key by writing </span><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>$name.key</b></span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000"> and getting associated value. As you have probably noticed, fields of our hash are three other hashes.
<br>

<br>
After defining hash we see variable </span><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>now</b></span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">, which we use to store present date, but further, there is a completely strange construction:
<br>

<br>
</span><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>$days</b><b>[^</b><b><a href=datecalendarmonth.htm>date:calendar</a></b><b>[eng]($date.</b><b><a href=datefields.htm>year</a></b><b>;$date.</b><b><a href=datefields.htm>month</a></b><b>)]
<br>
</b></span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">
<br>
Its logic is similar to that of constructor, since variable </span><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>days</b></span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000"> now contains a table with a calendar for the current month of this year. Still, we see only one semicolon, whereas for constructor we use two. That shows us that calendar is one of static methods of class </span><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>date</b></span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">. Static methods, like constructors, which we already know, can return objects. That is why we should assign created object to a variable. We have already touched upon static fields and methods in the end of the previous lesson. Such methods exist due to the fact that certain objects or their properties, such as page's URI or calendar for the current month, are unique. That is why such objects and fields comprise a separate group and can be accessed directly, without using constructors. If we call a static field, we get the value of the field of the class itself (but NOT of the object). Class math, which is designed for working with mathematical functions, can serve as an example. As </span><span style="font-family:Symbol; font-size:12pt; color:#000000">p </span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">is unique, we refer to it by writing </span><span style="font-family:Monospace; font-size:10pt; color:#000000"><b><a href=mathstats.htm>$math:PI</a></b></span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000"> and get the value of static field of class </span><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>math</b></span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000"> itself.
<br>

<br>
As a result, variable </span><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>days</b></span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000"> will contain such table:
<br>
Table 1 (result of this code implemented on May 30, 2003)</span><span style="font-family:FreeSetC,Arial; font-size:12pt; color:#000000">
<br>
</span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">
<br>
<table border="0" cellpadding="1"><tr><td align="left" valign="top" width="62">
<p align="center"><span style="font-family:Monospace; font-size:10pt; color:#000000"><b><i>0</i></b><u>
<br>
</u></span></p></td><td align="left" valign="top" width="70">
<p align="center"><span style="font-family:Monospace; font-size:10pt; color:#000000"><b><i>1</i></b><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000"><u>
<br>
</u></span></span></p></td><td align="left" valign="top" width="71">
<p align="center"><span style="font-family:Monospace; font-size:10pt; color:#000000"><b><i>2</i></b><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000"><u>
<br>
</u></span></span></p></td><td align="left" valign="top" width="65">
<p align="center"><span style="font-family:Monospace; font-size:10pt; color:#000000"><b><i>3</i></b><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000"><u>
<br>
</u></span></span></p></td><td align="left" valign="top" width="70">
<p align="center"><span style="font-family:Monospace; font-size:10pt; color:#000000"><b><i>4</i></b><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000"><i>
<br>
</i></span></span></p></td><td align="left" valign="top" width="66">
<p align="center"><span style="font-family:Monospace; font-size:10pt; color:#000000"><b><i>5</i></b><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000"><u>
<br>
</u></span></span></p></td><td align="left" valign="top" width="68">
<p align="center"><span style="font-family:Monospace; font-size:10pt; color:#000000"><b><i>6</i></b><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000"><u>
<br>
</u></span></span></p></td><td align="left" valign="top" width="49">
<span style="font-family:Monospace; font-size:10pt; color:#000000"><b>week</b><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">
<br>
</span></span></td><td align="left" valign="top" width="45">
<span style="font-family:Monospace; font-size:10pt; color:#000000"><b>year</b><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">
<br>
</span></span></td></tr><tr><td align="left" valign="top" width="62">
<p align="center"><span style="font-family:Monospace; font-size:10pt; color:#000000">&nbsp;
<br>
</span></p></td><td align="left" valign="top" width="70">
<p align="center"><span style="font-family:Monospace; font-size:10pt; color:#000000"><b> </b><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">
<br>
</span></span></p></td><td align="left" valign="top" width="71">
<span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000"> 
<br>
</span></td><td align="left" valign="top" width="65">
<p align="center"><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>01</b><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">
<br>
</span></span></p></td><td align="left" valign="top" width="70">
<p align="center"><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>02</b><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">
<br>
</span></span></p></td><td align="left" valign="top" width="66">
<p align="center"><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>03</b><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">
<br>
</span></span></p></td><td align="left" valign="top" width="68">
<p align="center"><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>04</b><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">
<br>
</span></span></p></td><td align="left" valign="top" width="49">
<span style="font-family:Monospace; font-size:10pt; color:#000000"><b>18</b><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">
<br>
</span></span></td><td align="left" valign="top" width="45">
<span style="font-family:Monospace; font-size:10pt; color:#000000"><b>2003</b><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">
<br>
</span></span></td></tr><tr><td align="left" valign="top" width="62">
<p align="center"><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>05</b>
<br>
</span></p></td><td align="left" valign="top" width="70">
<p align="center"><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>06</b><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">
<br>
</span></span></p></td><td align="left" valign="top" width="71">
<p align="center"><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>07</b><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">
<br>
</span></span></p></td><td align="left" valign="top" width="65">
<p align="center"><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>08</b><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">
<br>
</span></span></p></td><td align="left" valign="top" width="70">
<p align="center"><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>09</b><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">
<br>
</span></span></p></td><td align="left" valign="top" width="66">
<p align="center"><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>10</b><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">
<br>
</span></span></p></td><td align="left" valign="top" width="68">
<p align="center"><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>11</b><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">
<br>
</span></span></p></td><td align="left" valign="top" width="49">
<span style="font-family:Monospace; font-size:10pt; color:#000000"><b>19</b><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">
<br>
</span></span></td><td align="left" valign="top" width="45">
<span style="font-family:Monospace; font-size:10pt; color:#000000"><b>2003</b><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">
<br>
</span></span></td></tr><tr><td align="left" valign="top" width="62">
<p align="center"><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>12</b>
<br>
</span></p></td><td align="left" valign="top" width="70">
<p align="center"><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>13</b><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">
<br>
</span></span></p></td><td align="left" valign="top" width="71">
<p align="center"><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>14</b><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">
<br>
</span></span></p></td><td align="left" valign="top" width="65">
<p align="center"><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>15</b><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">
<br>
</span></span></p></td><td align="left" valign="top" width="70">
<p align="center"><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>16</b><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">
<br>
</span></span></p></td><td align="left" valign="top" width="66">
<p align="center"><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>17</b><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">
<br>
</span></span></p></td><td align="left" valign="top" width="68">
<p align="center"><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>18</b><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">
<br>
</span></span></p></td><td align="left" valign="top" width="49">
<span style="font-family:Monospace; font-size:10pt; color:#000000"><b>20</b><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">
<br>
</span></span></td><td align="left" valign="top" width="45">
<span style="font-family:Monospace; font-size:10pt; color:#000000"><b>2003</b><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">
<br>
</span></span></td></tr><tr><td align="left" valign="top" width="62">
<p align="center"><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>19
<br>
</b></span></p></td><td align="left" valign="top" width="70">
<p align="center"><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>20</b><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">
<br>
</span></span></p></td><td align="left" valign="top" width="71">
<p align="center"><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>21</b><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">
<br>
</span></span></p></td><td align="left" valign="top" width="65">
<p align="center"><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>22</b><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">
<br>
</span></span></p></td><td align="left" valign="top" width="70">
<p align="center"><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>23</b><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">
<br>
</span></span></p></td><td align="left" valign="top" width="66">
<p align="center"><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>24</b><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">
<br>
</span></span></p></td><td align="left" valign="top" width="68">
<p align="center"><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>25</b><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">
<br>
</span></span></p></td><td align="left" valign="top" width="49">
<span style="font-family:Monospace; font-size:10pt; color:#000000"><b>21</b><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">
<br>
</span></span></td><td align="left" valign="top" width="45">
<span style="font-family:Monospace; font-size:10pt; color:#000000"><b>2003</b><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">
<br>
</span></span></td></tr><tr><td align="left" valign="top" width="62">
<p align="center"><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>26</b>
<br>
</span></p></td><td align="left" valign="top" width="70">
<p align="center"><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>27</b><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">
<br>
</span></span></p></td><td align="left" valign="top" width="71">
<p align="center"><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>28</b><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">
<br>
</span></span></p></td><td align="left" valign="top" width="65">
<p align="center"><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>29
<br>
</b></span></p></td><td align="left" valign="top" width="70">
<p align="center"><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>30</b><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">
<br>
</span></span></p></td><td align="left" valign="top" width="66">
<span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000"> 
<br>
</span></td><td align="left" valign="top" width="68">
<span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000"> 
<br>
</span></td><td align="left" valign="top" width="49">
<span style="font-family:Monospace; font-size:10pt; color:#000000"><b>22</b><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">
<br>
</span></span></td><td align="left" valign="top" width="45">
<span style="font-family:Monospace; font-size:10pt; color:#000000"><b>2003</b><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">
<br>
</span></span></td></tr></table>
<br>

<br>
This is the table we will work with further on. We cannot retrieve the whole content stored in variable </span><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>days</b></span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000"> by simply writing
<br>

<br>
</span><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>$days
<br>
</b></span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">
<br>
If we do so, Parser won't understand what exactly we need-is it some row, the whole table or a value stored in some column? We also need&nbsp;&nbsp;&nbsp; to elaborate the content of the table so it could be understandable for a human being. For this purpose we have created a hash with names of days and months. Further, we use HTML to create a table where the first row will contain the name of the current month. To get the name of the month we use data stored in our hash, where ordinal number of a month is associated with its name.
<br>

<br>
</span><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>$calendar_locale.month_names.[$now.month]
<br>
</b></span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">
<br>
Let's see how it works: we retrieve the value of field </span><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>month_names</b></span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000"> of hash </span><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>calendar_locale</b></span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000"> with ordinal of the current month identified as </span><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>$now.month</b></span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">. This construction will result in name of the month in English (in our case) or any other language (it depends on what language you use when specifying associated strings).
<br>

<br>
In calendar's next row, we will output names of days of the week using hash data. Let's see precisely what we're after: we will go through the numbers of days of the week (from 0 to 6) step by step and output strings which we have previously associated with these numbers (that is retrieve them from the field </span><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>day_names</b></span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000"> of hash </span><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>calendar_locale</b></span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">). The best way to do it is to use a loop, i.e. a succession of actions to be executed a certain number of times. We will use loop </span><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>for</b></span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">. The syntax for this loop is:
<br>

<br>
</span><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>^for[counter](counter&nbsp;values'&nbsp;range,&nbsp;for&nbsp;example&nbsp;0;6){succession&nbsp;of&nbsp;counter'&nbsp;values}
<br>
</b></span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">
<br>
One of the best things provided by loops is that we can use values of the counter within the loop, referring to it as to a variable. That's what we'll do:
<br>

<br>
</span><span style="font-family:Monospace; font-size:10pt; color:#000000"><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b>^for[week_day](0;6){
<br>
</b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>&nbsp;&nbsp;&nbsp;&lt;td&nbsp;width="14%"&nbsp;align="center"&nbsp;bgcolor="#A2D0F2"&gt;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;font&nbsp;color="</b><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b>$calendar_locale.day_colors.$week_day</b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>"&gt;
<br>
</b><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$calendar_locale.day_names.$week_day
<br>
</b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/font&gt;
<br>
&nbsp;&nbsp;&nbsp;&lt;/td&gt;
<br>
</b><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b>}
<br>
</b></span></span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">
<br>
It is simple if you know what a loop is: sequentially changing the value of </span><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>week_day</b></span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">, starting with 0 and ending with 6 (where </span><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>week_day&nbsp;</b></span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">is loop counter), we get seven values:</span><span style="font-family:FreeSetC,Arial; font-size:12pt; color:#000000">
<br>
</span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">
<br>
</span><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>$calendar_locale.day_colors.$week_day&nbsp;&nbsp;&nbsp;</b></span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">-font color 
<br>
</span><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>$calendar_locale.day_names.$week_day&nbsp;&nbsp;&nbsp;-</b></span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">name of day of the week. 
<br>

<br>
The idea behind this is just the same as that we used to get months' names, but here we use different hash keys.
<br>

<br>
You would most probably ask, 'why is there </span><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>day_colors</b></span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000"> key?' The answer is 'fine feathers make fine birds.' If we want our calendar to look very much like real, we should make weekdays different from rest-days.
<br>

<br>
The next block needs special attention. Let's examine the task carefully. We will:
<br>

<br>
1. go through the rows of table days (Table 1) step by step;
<br>
2. in each row, go through the columns step by step, outputting the values (which are days of the month);
<br>
3. correctly indicate empty cells in our calendar (that is to check if there are blanks in the first and the last weeks of the month)
<br>
4. Indicate current date (output it in different color and make it bold).
<br>

<br>
How will we do it? The first step is easy to make with the help of familiar method </span><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>menu</b></span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000"> of class </span><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>table</b></span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">:
<br>

<br>
</span><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>^days.menu{...}
<br>
</b></span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">
<br>
To go through the columns in each row, we'll use the loop </span><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>for</b></span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">, which we have recently learnt:
<br>

<br>
</span><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>^for[week_day](0;6){...}
<br>
</b></span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">
<br>
To check whether we should output empty cells we will use operator </span><span style="font-family:Monospace; font-size:10pt; color:#000000"><b><a href=opif.htm>if</a></b></span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">. In fact, any check can be done with this operator:
<br>

<br>
</span><span style="font-family:Monospace; font-size:10pt; color:#000000"><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b>^if($days.$week_day){
<br>
</b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>&nbsp;&nbsp;&nbsp;&#133;
<br>
</b><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b>}{
<br>
&nbsp;&nbsp;&nbsp;</b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>&lt;td&nbsp;bgcolor="#DFDFDF"&gt;&amp;nbsp&lt;/td&gt;
<br>
</b><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b>}
<br>
</b></span></span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">
<br>
Note: in our condition we do not compare </span><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>$days.$week_day</b></span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000"> with anything. Thus we perform zero-check.
<br>
Parser understands this construction like the following:
<br>

<br>
"If </span><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>$days.$week_day</b></span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000"> exists (not empty), then do {...} otherwise output an empty grey table cell."
<br>

<br>
Most of the work is complete. Now we should only highlight current date. We can do it with another if, where we shall compare present value in table days with current date (</span><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>$days.$week_day==$now.day</b></span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">):
<br>

<br>
</span><span style="font-family:Monospace; font-size:10pt; color:#000000"><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b>^if($days.$week_day</b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b><a href=exprops.htm>==</a></b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b>$now.day){
<br>
&nbsp;&nbsp;&nbsp;</b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>&lt;td&nbsp;align="center"&nbsp;bgcolor="#FFFF00"&gt;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;font&nbsp;color="</b><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b>$calendar_locale.day_colors.$week_day</b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>"&gt;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;b&gt;</b><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b>$days.$week_day</b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>&lt;/b&gt;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/font&gt;
<br>
&nbsp;&nbsp;&nbsp;&lt;/td&gt;
<br>
</b></span><span style="font-family:Times New Roman; font-size:10pt; color:#000000"><span style="font-family:Times New Roman; font-size:10pt; color:#0000FF"><b>}{&nbsp;&nbsp;&nbsp;</b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<br>
&nbsp;&nbsp;&nbsp;</b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>&lt;td&nbsp;align="center"&nbsp;bgcolor="#FFFFFF"&gt;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;font&nbsp;color="</b><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b>$calendar_locale.day_colors.$week_day</b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>"&gt;
<br>
</b><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$days.$week_day
<br>
&nbsp;&nbsp;&nbsp;</b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>&nbsp;&nbsp;&nbsp;&lt;/font&gt;
<br>
&nbsp;&nbsp;&nbsp;&lt;/td&gt;
<br>
</b></span><span style="font-family:Times New Roman; font-size:10pt; color:#000000"><span style="font-family:Times New Roman; font-size:10pt; color:#0000FF"><b>}
<br>
</b></span></span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">
<br>
Note: to compare numerical values we use </span><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>==</b></span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000"> operator, while to compare strings we use </span><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>eq</b></span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000"> operator.
<br>

<br>
Let's look back at the general structure we use to form the calendar:
<br>
</span><span style="font-family:Monospace; font-size:10pt; color:#000000"><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b>
<br>
#&nbsp;going&nbsp;through&nbsp;the&nbsp;table&nbsp;with&nbsp;calendar</b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b>
<br>
</b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b>^days.</b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b><a href=tablemenu.htm>menu</a></b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b>{
<br>

<br>
#&nbsp;going&nbsp;through&nbsp;columns&nbsp;in&nbsp;each&nbsp;row</b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b>
<br>
</b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b>&nbsp;&nbsp;&nbsp;^</b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b><a href=opfor.htm>for</a></b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b>[week_day](0;6){
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^if($days.week_day){
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^if($month.$week_day==$date.day){
<br>
</b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</b><b>different&nbsp;cell&nbsp;background,&nbsp;boldface&nbsp;font</b></span><span style="font-family:Monospace; font-size:12pt; color:#000000"><b>
<br>
</b></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}{
<br>
</b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</b><b>simple&nbsp;cell</b><b>
<br>
</b><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}{
<br>
</b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</b><b>empty&nbsp;grey&nbsp;cell</b><b>
<br>
</b><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
<br>
&nbsp;&nbsp;&nbsp;}
<br>
}
<br>
</b></span></span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">
<br>

<br>
This is not a simple block-here we use nested constructions. Still, it helps us understand the possibility to combine different means to handle a specific task. A construction could be more graceful if we united checking and coloring into a separate function to be called from within the loop. A similar solution was used in Lesson 2. By doing so, we could make our code simpler and easier to read, but our main purpose here is to show you how to combine several logical structures. You can improve the code on your own. Let it be your home assignment.
<br>

<br>
If you want to be sure that the code works, you can create file </span><span style="font-family:Monospace; font-size:10pt; color:#000000">test.html</span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000"> in directory </span><span style="font-family:Monospace; font-size:10pt; color:#000000">/news/</span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000"> and put there a single line:
<br>

<br>
</span><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>^calendar[]
<br>
</b></span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">
<br>
Now open this page in your browser and enjoy yourself!
<br>

<br>
Let's sum it up,
<br>

<br>
</span><span style="font-family:FreeSetC,Arial; font-size:12pt; color:#000000"><b>What have we done?
<br>
</b></span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">We defined function making up calendar for the current month.
<br>

<br>
</span><span style="font-family:FreeSetC,Arial; font-size:12pt; color:#000000"><b>What have we learnt?
<br>
</b><table width="100%" border="0" cellpadding="0" cellspacing="0"><tr valign="top"><td width="14"><span style="font-family:FreeSetC,Arial; font-size:12pt; color:#000000"></span></span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000"><font face="Symbol" size="2" color="#000000">&#183;</font></span></td><td><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">file auto.p may be placed not only in root directory, but also in any other directory (but in this case, functions contained in it will be accessible only within the directory it is in);
&nbsp;<br>
</span></td></tr></table><table width="100%" border="0" cellpadding="0" cellspacing="0"><tr valign="top"><td width="14"><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000"><font face="Symbol" size="2" color="#000000">&#183;</font></span></td><td><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">variable-hash is an array used to associate some objects with other ones. In our case, objects were strings;
&nbsp;<br>
</span></td></tr></table><table width="100%" border="0" cellpadding="0" cellspacing="0"><tr valign="top"><td width="14"><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000"><font face="Symbol" size="2" color="#000000">&#183;</font></span></td><td><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">static method </span><span style="font-family:Monospace; font-size:10pt; color:#000000"><b><a href=datecalendarmonth.htm>calendar</a></b></span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000"> creates a table with calendar for the current month;
&nbsp;<br>
</span></td></tr></table><table width="100%" border="0" cellpadding="0" cellspacing="0"><tr valign="top"><td width="14"><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000"><font face="Symbol" size="2" color="#000000">&#183;</font></span></td><td><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">loop </span><span style="font-family:Monospace; font-size:10pt; color:#000000"><b><a href=opfor.htm>for</a></b></span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000"> allows repeating some actions specified number of times.
&nbsp;<br>
</span></td></tr></table><table width="100%" border="0" cellpadding="0" cellspacing="0"><tr valign="top"><td><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000"></span></td><td></td></tr></table><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000"><b>
<br>
</b></span><span style="font-family:FreeSetC,Arial; font-size:12pt; color:#000000"><b>What should we remember?
<br>
</b><table width="100%" border="0" cellpadding="0" cellspacing="0"><tr valign="top"><td width="14"><span style="font-family:FreeSetC,Arial; font-size:12pt; color:#000000"></span></span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000"><font face="Symbol" size="2" color="#000000">&#183;</font></span></td><td><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">along with methods of objects created with constructors of a class, there exist static methods. You can access these methods directly without first creating an object;
&nbsp;<br>
</span></td></tr></table><table width="100%" border="0" cellpadding="0" cellspacing="0"><tr valign="top"><td width="14"><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000"><font face="Symbol" size="2" color="#000000">&#183;</font></span></td><td><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">within loop </span><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>for</b></span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">, we can refer to the counter as to a variable with specified name and get its current value.
&nbsp;<br>
</span></td></tr></table><table width="100%" border="0" cellpadding="0" cellspacing="0"><tr valign="top"><td><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000"></span></td><td></td></tr></table><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">
<br>
As our code grows bigger, we should place comments for the code to be clearly understood. In Parser, every line starting with </span><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>#</b></span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000"> is regarded as a comment. So far, we didn't use comments, but as we step further and further, placing comments becomes nearly vital. The following line is an example of a comment:
<br>

<br>
</span><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>#&nbsp;all&nbsp;this&nbsp;text&nbsp;will&nbsp;be&nbsp;ignored-this&nbsp;is&nbsp;a&nbsp;comment&nbsp;!!!
<br>
</b></span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">
<br>
We urge that you place comments in your code! Ideally, your code should be self-descriptive for anyone who reads it to understand the logic of the code and succession of actions. If you neglect it, you yourself may be unable to read it after a while. Remember it!
<br>

<br>
<b>What's next?
<br>
</b>In the next lesson, we will teach our calendar to place links on dates and-what is most important-we will learn how to work with forms and databases to create a full-blown news section.
<br>
</span></span><br>

<!--(later)#include virtual="/docs/comment.html" -->


<hr size=1>
<table border="0" cellspacing="0" cellpadding="0" width="100%">
<tr valign="top">
<td><font size="1">Copyright &copy; 1997&#150;2011 Art. Lebedev Studio | <a href="http://www.artlebedev.com/" target="_blank">http://www.artlebedev.com</a></font></td>
<td align="right"><font size="1">Last updated: 05.08.2005</font></td>
</tr>
</table>
</body>
</html>

<html>
<head>
    
    
    <title>Параметры преобразования документа в текст</title><meta content="text/html; charset=utf-8" http-equiv="Content-Type">

    

</head>

<body>


<table border="0" cellspacing="0" cellpadding="2">
  <tr>
    <td>
      
<span class="h1"><b>Параметры преобразования документа в текст
<br />
</b></span>
    </td>
  </tr>
  <tr><td><div class="greenline"></div></td></tr>
</table>
<br />



<span>В ряде методов можно задать <a href="hash.htm">хеш</a><span class="mono"><b>&nbsp;Параметры_преобразования_в_текст</b></span><span>.
<br />

<br />
Они идентичны атрибутам элемента </span><span class="mono"><span class="monoblue"><b><u><a href="http://www.w3.org/TR/xslt#output" target="_blank">&lt;xsl:output … /&gt;</a></u></b></span></span><span>.
<br />
Исключением являются атрибуты </span><span class="mono"><b>doctype-public</b></span><span> и </span><span class="mono"><b>doctype-system</b></span><span>, которые так задать нельзя.
<br />
<span>Пока также является исключением </span></span><span class="mono"><span><b>cdata-section-elements</b></span></span><span><span>.</span></span><span>
<br />

<br />
По умолчанию текст создается в кодировке </span><span class="mono"><b><a href="requestcharset.htm">$request:charset</a></b></span><span>, однако в XML заголовке или в элементе </span><span class="mono"><b>meta</b></span><span> для HTML-метода Parser указывает кодировку </span><span class="mono"><b><a href="responsecharset.htm">$response:charset</a></b></span><span>. Такое поведение можно изменить, явно указав кодировку в </span><span class="mono"><span class="monoblue"><b><u><a href="http://www.w3.org/TR/xslt#output" target="_blank">&lt;xsl:output … /&gt;</a></u></b></span></span><span> или соответствующем параметре преобразования.&nbsp;&nbsp;&nbsp;<b><i>[3.1.2]</i></b>
<br />

<br />
При создании объекта класса </span><span class="mono"><b><a href="xdocfile.htm">file</a></b></span><span> можно задать параметр </span><span class="mono"><span class="monoblue"><b>media-type</b></span></span><span>, при <a href="responsebody.htm">задании нового тела ответа</a> заголовок ответа </span><span class="mono"><b>content-type</b></span><span> получит значение этого параметра.
<br />

<br />
</span><span class="h1"><b>Пример
<br />
</b></span><span class="mono"><span class="monoblue"><b>#&nbsp;выдаст&nbsp;документ&nbsp;в&nbsp;HTML-представлении&nbsp;без&nbsp;отступов
<br />
^document.</b></span></span><span class="mono"><span class="monoblue"><b><a href="xdocstring.htm">string</a></b></span></span><span class="mono"><span class="monoblue"><b>[
<br />
&nbsp;&nbsp;&nbsp;&nbsp;$.method[html]
<br />
&nbsp;&nbsp;&nbsp;&nbsp;$.indent[no]
<br />
]</b></span></span><span class="mono"><b>
<br />

<br />
</b></span><span class="h1"><b>Выдача XHTML</b></span><span class="mono"><b>
<br />
</b></span><span>Если необходимо выдать <span class="blue"><u><a href="http://www.w3.org/TR/xhtml1/" target="_blank">XHTML</a></u></span></span><span>, следует использовать такие атрибуты элемента </span><span class="mono"><span class="monoblue"><b><u><a href="http://www.w3.org/TR/xslt#stylesheet-element" target="_blank">&lt;xsl:stylesheet … /&gt;</a></u></b></span></span><span>:
<br />

<br />
</span><span class="mono"><span class="monoblue"><b>&lt;xsl:stylesheet&nbsp;version="1.0"
<br />
&nbsp;&nbsp;&nbsp;xmlns="http://www.w3.org/1999/xhtml"
<br />
&nbsp;&nbsp;&nbsp;xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
<br />
&gt;
<br />
</b></span></span><span>
<br />
Обратите внимание на указание </span><span class="mono"><span class="monoblue"><b>xmlns</b></span></span><span> без префикса - так необходимо делать, чтобы все создаваемые в шаблоне элементы без префикса попадали в пространство имен </span><span class="mono">xhtml</span><span>. Необходимо задавать </span><span class="mono"><span class="monoblue"><b>xmlns</b></span></span><span> без префикса в каждом </span><span class="mono">.xsl</span><span> файле, этот параметр не распространяется на включаемые файлы.
<br />

<br />
А также необходимо задать такие атрибуты </span><span class="mono"><span class="monoblue"><b><u><a href="http://www.w3.org/TR/xslt#output" target="_blank">&lt;xsl:output … /&gt;</a></u></b></span></span><span>:
<br />
</span><span class="mono"><span class="monoblue"><b>&lt;xsl:output&nbsp;
<br />
&nbsp;&nbsp;&nbsp;doctype-public="-//W3C//DTD&nbsp;XHTML&nbsp;1.0&nbsp;Strict//EN"
<br />
&nbsp;&nbsp;&nbsp;doctype-system="DTD/xhtml1-strict.dtd"
<br />
&nbsp;&nbsp;&nbsp;/&gt;
<br />
</b></span></span><span>
<br />
<i>Внимание: не задавайте атрибут method</i></span><span class="mono"><span class="monoblue"><b>.</b></span></span><span><i> XHTML это разновидность метода xml, включающаяся при использовании следующих doctype:
<br />
</i></span><span class="mono"><span class="monoblue"><b>&nbsp;&nbsp;&nbsp;-//W3C//DTD&nbsp;XHTML&nbsp;1.0&nbsp;Strict//EN
<br />
&nbsp;&nbsp;&nbsp;-//W3C//DTD&nbsp;XHTML&nbsp;1.0&nbsp;Frameset//EN
<br />
&nbsp;&nbsp;&nbsp;-//W3C//DTD&nbsp;XHTML&nbsp;1.0&nbsp;Transitional//EN
<br />
</b></span></span></span><br />




</body>
</html>
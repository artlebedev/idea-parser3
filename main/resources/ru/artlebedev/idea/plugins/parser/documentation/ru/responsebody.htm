<html>
<head>
    
    
    <title>body. Задание нового тела ответа</title><meta content="text/html; charset=utf-8" http-equiv="Content-Type">

    

</head>

<body>


<table border="0" cellspacing="0" cellpadding="2">
  <tr>
    <td>
      
<span class="h1"><b>body. Задание нового тела ответа
<br />
</b></span>
    </td>
  </tr>
  <tr><td><div class="greenline"></div></td></tr>
</table>
<br />



<span class="mono"><b>$response:body[DATA]</b>&nbsp;&nbsp;&nbsp;<span style="font-family:Times New Roman; font-size:12pt; color:#000000">
<br />
</span><span>
<br />
Замещает все тело ответа значением </span><span class="mono"><b>DATA</b></span><span>.
<br />

<br />
</span><span class="mono"><b>DATA</b></span><span> - <a href="stringclass.htm">строка</a>, <a href="fileclass.htm">файл</a> или <a href="hash.htm">хеш</a> параметров. 
<br />

<br />
Ключи хеша параметров:<b><i> [3.1.4]
<br />
</i></b></span><span class="mono"><b>file</b></span><span> - имя файла на диске (в этом случае Parser поддерживает докачку файлов<b><i>  [3.1.4]</i></b></span><span>);</span><span class="mono"><b>
<br />
name</b></span><span> - имя файла, которое передать посетителю;</span><span class="mono"><b>
<br />
mdate</b></span><span> - дата и время изменения файла, которую передать посетителю.</span><span class="mono"><b>
<br />
</b></span><span>
<br />
Если передан файл с известным </span><span class="mono">content-type</span><span> (см. <a href="filefields.htm">поля объекта класса file</a>), этот заголовок передается посетителю.
<br />

<br />
См. также </span><span class="mono"><b>$response:</b><b><a href="responsedownload.htm">download</a></b></span><span>.
<br />

<br />
</span><span class="h1"><b>Пример замены всего тела на результат работы скрипта
<br />
</b></span><span class="mono"><span class="monoblue"><b>$response:body[^</b></span></span><span class="mono"><span class="monoblue"><b><a href="filecgiexec.htm">file::cgi</a></b></span></span><span class="mono"><span class="monoblue"><b>[</b></span></span><span class="mono"><b>script.cgi</b><span class="monoblue"><b>]]</b></span></span><span class="mono"><b>
<br />
</b></span><span>
<br />
Заменит весь ответ результатом работы программы </span><span class="mono">script.cgi</span><span>.</span><span class="mono">
<br />
<b>
<br />
</b></span><span class="h1"><b>Пример выдачи создаваемой картинки
<br />
</b></span><span class="mono"><span class="monoblue"><b>$square[^</b></span></span><span class="mono"><span class="monoblue"><b><a href="imagecreate.htm">image::create</a></b></span></span><span class="mono"><span class="monoblue"><b>(100;100;0x000000)]
<br />
^square.</b></span></span><span class="mono"><span class="monoblue"><b><a href="imagecircle.htm">circle</a></b></span></span><span class="mono"><span class="monoblue"><b>(50;50;10;0xFFFFFF)
<br />
$</b></span></span><span class="mono"><span class="monoblue"><b><a href="responsebody.htm">response:body</a></b></span></span><span class="mono"><span class="monoblue"><b>[^square.</b></span></span><span class="mono"><span class="monoblue"><b><a href="imagegif.htm">gif</a></b></span></span><span class="mono"><span class="monoblue"><b>[]]</b></span></span><span class="mono"><b>
<br />
</b></span><span>
<br />
В браузере будет выведен  черный квадрат с белой окружностью. Кроме того, автоматически будет установлен нужный тип файла (content-type) по таблице </span><span class="mono"><b>MIME-TYPES</b></span><span>.
<br />
</span></span><br />




</body>
</html>
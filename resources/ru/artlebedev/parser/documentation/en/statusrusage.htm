<html>
<head>
    <META HTTP-EQUIV="Content-Type" CONTENT="text/html;charset=iso-8859-1">
    <meta name="keywords" content="status,status, Fields,rusage,profile *">
    <title>rusage. Information on resources used</title>

    <script language="JavaScript"><!--
    if(top.frames.length==0) {
        top.location.href='./?statusrusage.htm'
    } else {
        if(document.referrer!='' && 0>document.referrer.indexOf(top.frames[0].location.pathname)) {
            top.frames[0].location.hash='statusrusage.htm'
        }
    }
    //--></script>

</head>

<body bgcolor="#FFFFFF" text="black">


<table border="0" cellspacing="0" cellpadding="2">
  <tr>
    <td>
      
<span style="font-family:FreeSetC,Arial; font-size:12pt; color:#000000"><b>rusage. Information on resources used
<br>
</b></span>
    </td>
  </tr>
  <tr><td bgcolor="#99D228" height="3"></td></tr>
</table>
<br>



<span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">This field is a  <a href=hash.htm>hash</a> containing information on server's resources currently used by system for processing your Parser-script.
<br>

<br>
Some systems cannot return complete range of values listed here (WinNT/Win2000/WinXP can return all values, while Win98 can return only <span style="font-family:Monospace; font-size:10pt; color:#000000"><b>tv_sec</b></span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000"> and </span><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>tv_usec</b></span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">).</span><span style="font-family:FreeSetC,Arial; font-size:12pt; color:#000000">
<br>
</span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">
<br>
<table border="0" cellpadding="1"><tr><td align="left" valign="top" width="58">
<span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000"><b><i>Key</i></b><b>
<br>
</b></span></td><td align="left" valign="top" width="73">
<span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000"><b><i>Unit</i></b>
<br>
</span></td><td align="left" valign="top" width="240">
<span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000"><b><i>Value description</i></b><b>
<br>
</b></span></td><td align="left" valign="top" width="263">
<span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000"><b><i>How to reduce?</i></b><b>
<br>
</b></span></td></tr><tr><td align="left" valign="top" width="58">
<span style="font-family:Monospace; font-size:10pt; color:#000000"><b>utime</b><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">
<br>
</span></span></td><td align="left" valign="top" width="73">
<span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">second
<br>
</span></td><td align="left" valign="top" width="240">
<span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">Pure time, i.e. that used by current process (does not include time used by other tasks)
<br>
</span></td><td align="left" valign="top" width="263">
<span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">Simplify data manipulation within Parser (improve algorithm, hand some actions over to SQL-server)
<br>
</span></td></tr><tr><td align="left" valign="top" width="58">
<span style="font-family:Monospace; font-size:10pt; color:#000000"><b>stime</b><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">
<br>
</span></span></td><td align="left" valign="top" width="73">
<span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">second
<br>
</span></td><td align="left" valign="top" width="240">
<span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">Time used by system to read your files, directories, and libraries
<br>
</span></td><td align="left" valign="top" width="263">
<span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">Decrease number and size of files needed for script's work; do not <a href=opuse.htm>use</a> modules which are not needed to process current document
<br>
</span></td></tr><tr><td align="left" valign="top" width="58">
<span style="font-family:Monospace; font-size:10pt; color:#000000"><b>maxrss</b><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">
<br>
</span></span></td><td align="left" valign="top" width="73">
<span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">block
<br>
</span></td><td align="left" valign="top" width="240">
<span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">Memory used by process
<br>
</span></td><td align="left" valign="top" width="263">
<span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">Decrease number of loaded useless data.
<br>
Find and fix all "select<span style="font-family:Times New Roman; font-size:10pt; color:#000000"> </span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">*" by specifying only the fields you will really need. Do not load unnecessary data from SQL-server, filter out as much as you can by means of SQL-server itself.
<br>
</span></span></td></tr><tr><td align="left" valign="top" width="58">
<span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">
<br>
</span></td><td align="left" valign="top" width="73">
<span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">
<br>
</span></td><td align="left" valign="top" width="240">
<span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000"><i>Exact system time</i><i>. Allows evaluating time used for awaiting response from SQL-, HTTP-, SMTP-servers.
<br>

<br>
How much time passed since Epoch&#133;</i>
<br>
</span></td><td align="left" valign="top" width="263">
<span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">Simplify SQL queries. If you use MySQL, use <span style="font-family:FreeSetC,Arial; font-size:10pt; color:#0000FF"><u><a href="http://www.mysql.com/doc/en/EXPLAIN.html" target="_blank">EXPLAIN</a></u></span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">; for Oracle: EXPLAIN&nbsp;PLAN (see your server documentation); for other SQL-servers: see relevant documentation.
<br>
</span></span></td></tr><tr><td align="left" valign="top" width="58">
<span style="font-family:Monospace; font-size:10pt; color:#000000"><b>tv_sec</b><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">
<br>
</span></span></td><td align="left" valign="top" width="73">
<span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">second
<br>
</span></td><td align="left" valign="top" width="240">
<span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">&#133;whole seconds;
<br>
</span></td><td align="left" valign="top" width="263">
<span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">
<br>
</span></td></tr><tr><td align="left" valign="top" width="58">
<span style="font-family:Monospace; font-size:10pt; color:#000000"><b>tv_usec</b><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">
<br>
</span></span></td><td align="left" valign="top" width="73">
<span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">millisecond
<br>
(10E-6)
<br>
</span></td><td align="left" valign="top" width="240">
<span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">&#133;milliseconds
<br>
passed (millionths of seconds in addition to whole seconds)
<br>
</span></td><td align="left" valign="top" width="263">
<span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">
<br>
</span></td></tr></table>
<br>

<br>
</span><span style="font-family:FreeSetC,Arial; font-size:12pt; color:#000000"><b>Recommended way of analysing</b></span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000"><u>
<br>
</u>At the end of your script place construction&#133;
<br>

<br>
</span><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>^rusage[total]
<br>
</b></span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">
<br>
&#133;to call this method:
<br>

<br>
</span><span style="font-family:Monospace; font-size:10pt; color:#000000"><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b>@rusage[comment][v;now;prefix;message;line;usec]
<br>
$v[$status:rusage]
<br>
$now[^</b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b><a href=datenow.htm>date::now</a></b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b>[]]
<br>
$usec(^v.tv_usec.</b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b><a href=intdoublefield.htm>double</a></b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b>[])
<br>
$prefix[[^now.</b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b><a href=datesqlstring.htm>sql-string</a></b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b>[].^usec.</b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b><a href=intdoubleformat.htm>format</a></b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b>[%06.0f]]&nbsp;</b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b><a href=envhttpfield.htm>$env:REMOTE_ADDR</a></b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b>:&nbsp;$comment]
<br>
$message[$v.utime&nbsp;$v.stime&nbsp;</b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b><a href=requesturi.htm>$request:uri</a></b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b>]
<br>
$line[$prefix&nbsp;$message&nbsp;</b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b><a href=stringlit.htm>^#0A</a></b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b>]
<br>
^line.</b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b><a href=stringsave.htm>save</a></b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b>[append;/rusage.log]
<br>
$</b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b><a href=definemethod.htm>result</a></b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><b>[]</b></span></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>
<br>
</b></span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">
<br>
</span><span style="font-family:Arial; font-size:10pt; color:#000000">&#133;and analyze the log.</span><span style="font-family:FreeSetC,Arial; font-size:12pt; color:#000000">
<br>

<br>
</span><span style="font-family:Arial; font-size:10pt; color:#000000">For a more precise analysis, surround the block to be checked with calls&#133;</span><span style="font-family:FreeSetC,Arial; font-size:12pt; color:#000000">
<br>
</span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">
<br>
</span><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>^rusage[before&nbsp;XXX]
<br>
^rusage[after&nbsp;XXX]
<br>
</b></span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">
<br>
</span><span style="font-family:Arial; font-size:10pt; color:#000000">Note: it is not recommended to store log file within web-space.</span><span style="font-family:FreeSetC,Arial; font-size:12pt; color:#000000">
<br>
<u>
<br>
</u><b>WinNT/2K/XP</b><u>
<br>
</u></span><span style="font-family:Arial; font-size:10pt; color:#000000">Under these OSes, certain extra values are available:</span><span style="font-family:FreeSetC,Arial; font-size:12pt; color:#000000">
<br>
</span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">
<br>
<i><table border="0" cellpadding="1"><tr><td align="left" valign="top" width="216">
<span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000"><b><i>Key</i></b><b>
<br>
</b></span></td><td align="left" valign="top" width="53">
<span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000"><b><i>Unit</i></b>
<br>
</span></td><td align="left" valign="top" width="181">
<span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000"><b><i>Value description</i></b><span style="font-family:MS Sans Serif; font-size:8pt; color:#000000">
<br>
</span></span></td><td align="left" valign="top" width="197">
<span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000"><b><i>How to reduce?</i></b><b><i>
<br>
</i></b></span></td></tr><tr><td align="left" valign="top" width="216">
<span style="font-family:Monospace; font-size:10pt; color:#000000"><b>ReadOperationCount
<br>
ReadTransferCount
<br>

<br>
</b></span></td><td align="left" valign="top" width="53">
<span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">items
<br>
bytes
<br>
</span></td><td align="left" valign="top" width="181">
<span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">Number of operations on reading from disk and total number of bytes read
<br>
</span></td><td align="left" valign="top" width="197">
<span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">Decrease number and size of files needed for the process; do not <a href=opuse.htm>use modules</a> not needed for processing current document.
<br>

<br>
Use SQL-server rather than files.
<br>
</span></td></tr><tr><td align="left" valign="top" width="216">
<span style="font-family:Monospace; font-size:10pt; color:#000000"><b>WriteOperationCount
<br>
WriteTransferCount
<br>

<br>
</b></span></td><td align="left" valign="top" width="53">
<span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">items
<br>
bytes<span style="font-family:MS Sans Serif; font-size:8pt; color:#000000">
<br>
</span></span></td><td align="left" valign="top" width="181">
<span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">Number of operations on writing to disk and total number of bytes written
<br>
<span style="font-family:MS Sans Serif; font-size:8pt; color:#000000">
<br>
</span></span></td><td align="left" valign="top" width="197">
<span style="font-family:MS Sans Serif; font-size:8pt; color:#000000">
<br>
</span></td></tr><tr><td align="left" valign="top" width="216">
<span style="font-family:Monospace; font-size:10pt; color:#000000"><b>OtherOperationCount
<br>
OtherTransferCount
<br>

<br>

<br>
</b></span></td><td align="left" valign="top" width="53">
<span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">items
<br>
bytes<span style="font-family:MS Sans Serif; font-size:8pt; color:#000000">
<br>
</span></span></td><td align="left" valign="top" width="181">
<span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">Number of other operations with disk (apart from read/write) and total number of bytes transferred
<br>
<span style="font-family:MS Sans Serif; font-size:8pt; color:#000000">
<br>
</span></span></td><td align="left" valign="top" width="197">
<span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">
<br>
</span></td></tr><tr><td align="left" valign="top" width="216">
<span style="font-family:Monospace; font-size:10pt; color:#000000"><b>PeakPagefileUsage
<br>
</b><span style="font-family:Monospace; font-size:10pt; color:#9F9F9F"><b>QuotaPeakNonPagedPoolUsage
<br>
QuotaPeakPagedPoolUsage
<br>
</b></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>
<br>
</b></span></span></td><td align="left" valign="top" width="53">
<span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">bytes
<br>
</span></td><td align="left" valign="top" width="181">
<span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">Memory-paging file size limit<span style="font-family:MS Sans Serif; font-size:10pt; color:#000000">
<br>
</span></span></td><td align="left" valign="top" width="197">
<span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">see above comment to <span style="font-family:Monospace; font-size:10pt; color:#000000"><b>maxrss</b></span><span style="font-family:MS Sans Serif; font-size:8pt; color:#000000">
<br>
</span></span></td></tr></table>
<br>
</i></span></span><br>

<!--(later)#include virtual="/docs/comment.html" -->


<hr size=1>
<table border="0" cellspacing="0" cellpadding="0" width="100%">
<tr valign="top">
<td><font size="1">Copyright &copy; 1997&#150;2011 Art. Lebedev Studio | <a href="http://www.artlebedev.com/" target="_blank">http://www.artlebedev.com</a></font></td>
<td align="right"><font size="1">Last updated: 04.09.2008</font></td>
</tr>
</table>
</body>
</html>

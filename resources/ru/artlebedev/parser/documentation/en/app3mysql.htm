<html>
<head>
    <META HTTP-EQUIV="Content-Type" CONTENT="text/html;charset=iso-8859-1">
    <meta name="keywords" content="connect,connect, Format of connect string,mysql,unix socket,charset">
    <title>For MySQL</title>

    <script language="JavaScript"><!--
    if(top.frames.length==0) {
        top.location.href='./?app3mysql.htm'
    } else {
        if(document.referrer!='' && 0>document.referrer.indexOf(top.frames[0].location.pathname)) {
            top.frames[0].location.hash='app3mysql.htm'
        }
    }
    //--></script>

</head>

<body bgcolor="#FFFFFF" text="black">


<table border="0" cellspacing="0" cellpadding="2">
  <tr>
    <td>
      
<span style="font-family:FreeSetC,Arial; font-size:12pt; color:#000000"><b>For MySQL
<br>
</b></span>
    </td>
  </tr>
  <tr><td bgcolor="#99D228" height="3"></td></tr>
</table>
<br>



<span style="font-family:Monospace; font-size:10pt; color:#000000">mysql://user:password@host[:port]|[/unix/socket]/database?
<br>
&nbsp;&nbsp;&nbsp;charset=value&amp;<i>&nbsp;</i><span style="font-family:Monospace; font-size:8pt; color:#000000"><i>[value&nbsp;must&nbsp;be&nbsp;conversion&nbsp;for&nbsp;MySQL&nbsp;3.x/4.0&nbsp;or&nbsp;character&nbsp;set&nbsp;name&nbsp;for&nbsp;MySQL&nbsp;4.1+]</i></span><span style="font-family:Monospace; font-size:10pt; color:#000000"><i>
<br>
</i>&nbsp;&nbsp;&nbsp;<a href=app3clientcharset.htm>ClientCharset</a>=charset&amp;<b>
<br>
</b>&nbsp;&nbsp;&nbsp;timeout=3&amp;
<br>
&nbsp;&nbsp;&nbsp;compress=0&amp;
<br>
&nbsp;&nbsp;&nbsp;named_pipe=1&amp;
<br>
&nbsp;&nbsp;&nbsp;autocommit=1&amp;
<br>
&nbsp;&nbsp;&nbsp;multi_statements=0</span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000"><b><i> [3.3.0]</i></b></span><span style="font-family:Monospace; font-size:10pt; color:#000000">
<br>
</span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">
<br>
Optional parameters are:
<br>

<br>
</span><span style="font-family:Monospace; font-size:10pt; color:#000000">Port</span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000"> is number of port used by database server. One can use:
<br>
</span><span style="font-family:Monospace; font-size:10pt; color:#000000">user:password@hostname:port_number/database</span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">.
<br>

<br>
One can also replace </span><span style="font-family:Monospace; font-size:10pt; color:#000000">hostname</span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000"> and </span><span style="font-family:Monospace; font-size:10pt; color:#000000">port_number</span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000"> with path to UNIX socket in square brackets (UNIX socket is a magical set of characters (path), which your administrator may tell you, provided you yourself are not the administrator in the flesh. This socket may be used to communicate with server):
<br>

<br>
</span><span style="font-family:Monospace; font-size:10pt; color:#000000">user:password@[/unix/socket]/database
<br>
</span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">
<br>
</span><span style="font-family:Monospace; font-size:10pt; color:#000000">charset</span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">-</span><span style="font-family:Arial; font-size:10pt; color:#000000">right after connection executes "</span><span style="font-family:Monospace; font-size:10pt; color:#000000"><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><u><a href="http://dev.mysql.com/doc/refman/5.0/en/charset-connection.html" target="_blank">SET CHARACTER SET value</a></u></span></span><span style="font-family:Arial; font-size:10pt; color:#000000">";</span><span style="font-family:Monospace; font-size:10pt; color:#000000">
<br>
<a href=app3clientcharset.htm>ClientCharset</a></span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">-specifies the charset, in which Parser must communicate with SQL server. Conversion will be done by driver;
<br>
</span><span style="font-family:Monospace; font-size:10pt; color:#000000">timeout</span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">-specifies value of parameter </span><span style="font-family:Monospace; font-size:10pt; color:#000000"><b>Connect&nbsp;timeout</b></span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000"> in seconds;
<br>
</span><span style="font-family:Monospace; font-size:10pt; color:#000000">compress</span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">-mode of compressing traffic between server and client;
<br>
</span><span style="font-family:Monospace; font-size:10pt; color:#000000">named_pipe</span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">-use named pipes to connect to MySQL-server, working under Windows NT;
<br>
</span><span style="font-family:Monospace; font-size:10pt; color:#000000">autocommit</span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">-if set to 0 after connection executes "</span><span style="font-family:Monospace; font-size:10pt; color:#000000"><span style="font-family:Monospace; font-size:10pt; color:#0000FF"><u><a href="http://dev.mysql.com/doc/refman/5.0/en/commit.html" target="_blank">SET AUTOCOMMIT=0</a></u></span></span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">";<b><i>
<br>
</i></b></span><span style="font-family:Monospace; font-size:10pt; color:#000000">multi_statements</span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">-if set to </span><span style="font-family:Arial; font-size:10pt; color:#000000">1, the single SQL query can contains more then one SQL statements separated by ";" character</span><span style="font-family:Times New Roman; font-size:12pt; color:#000000"> (</span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000"><i>character ";" must be </i><i><a href=stringlit.htm>escaped</a></i><i> by character "^"</i></span><span style="font-family:Times New Roman; font-size:12pt; color:#000000">).
<br>
</span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">
<br>

<br>
</span><span style="font-family:FreeSetC,Arial; font-size:12pt; color:#000000"><b>Example: transcoding by </b><b>SQL </b><b>server (</b><b>it works with many character sets but </b><b>require</b><b>s</b><b> </b><b>MySQL version </b><b>4.1 or higher)
<br>
</b></span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">MySQL server version 4.1 or higher can transcode data in different ways itself so it is recommended to use these server abilities using </span><span style="font-family:Monospace; font-size:10pt; color:#000000">charset</span><span style="font-family:Arial; font-size:10pt; color:#000000"> option and don't use </span><span style="font-family:Monospace; font-size:10pt; color:#000000">ClientCharset</span><span style="font-family:Arial; font-size:10pt; color:#000000"> option at all</span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">. With MySQL server version 4.1 or higher you can even store data in different tables using different character sets but we recommend to store it in </span><span style="font-family:Monospace; font-size:10pt; color:#000000">UTF-8</span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">.
<br>

<br>
Assume, data in your database is stored in</span><span style="font-family:Arial; font-size:10pt; color:#000000"> </span><span style="font-family:Monospace; font-size:10pt; color:#000000">UTF-8</span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">, while pages are in </span><span style="font-family:Monospace; font-size:10pt; color:#000000">windows-1257</span><span style="font-family:Arial; font-size:10pt; color:#000000">, </span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">connect string should look like this:
<br>
</span><span style="font-family:Monospace; font-size:10pt; color:#000000">mysql://user:password@host/database?charset=cp1257
<br>
</span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">
<br>
In this case right after connection to the server Parser will executes command </span><span style="font-family:Monospace; font-size:10pt; color:#000000">"<b>SET&nbsp;CHARACTER&nbsp;SET&nbsp;cp1257</b>"</span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000"> and server will transcode received data from </span><span style="font-family:Monospace; font-size:10pt; color:#000000">cp1257</span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000"> to character set used for storing data in requested database/table/column and transcode it back while send response.
<br>
</span><span style="font-family:FreeSetC,Arial; font-size:12pt; color:#000000"><b>
<br>
</b></span><span style="font-family:Arial; font-size:10pt; color:#000000"><i>Note: in this case you should specify character set used for storing pages.</i></span><span style="font-family:FreeSetC,Arial; font-size:12pt; color:#000000"><b>
<br>
</b></span><span style="font-family:Arial; font-size:10pt; color:#000000"><i>Note: </i><i>this option executes the MySQL command so you must use </i><span style="font-family:Arial; font-size:10pt; color:#0000FF"><i><u><a href="http://dev.mysql.com/doc/refman/4.1/en/charset-charsets.html" target="_blank">MySQL server character set names</a></u></i></span></span><span style="font-family:Arial; font-size:10pt; color:#000000"><i> which are not equal to Parser character set names, defined in </i><i><a href=parserconfmethod.htm>configuration file</a></i><i>.</i></span><span style="font-family:FreeSetC,Arial; font-size:12pt; color:#000000"><b>
<br>

<br>

<br>
Example: DB in koi</b><b>8-r</b><b>, pages </b><b>are </b><b>in win</b><b>dows-1251</b><b>, transcoding by </b><b>SQL </b><b>server (</b><b>MySQL 3</b><b>.</b><b>x</b><b> and 4.</b><b>0</b><b>)
<br>
</b></span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">MySQL server version 3.x and 4.0 can't transcode data in arbitrary ways but can transcode it in most common for Russian language case when data stored in </span><span style="font-family:Monospace; font-size:10pt; color:#000000">koi8-r</span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">, while pages are in </span><span style="font-family:Monospace; font-size:10pt; color:#000000">windows-1251</span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">.
<br>

<br>
In this case you can also transcode data with driver transcode functions using </span><span style="font-family:Monospace; font-size:10pt; color:#000000">ClientCharset</span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000"> option (see below), however it's much better to do it using </span><span style="font-family:Monospace; font-size:10pt; color:#000000">charset</span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000"> option with </span><span style="font-family:Monospace; font-size:10pt; color:#000000">cp1251_koi8</span><span style="font-family:Arial; font-size:10pt; color:#000000"> value</span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">: 
<br>
</span><span style="font-family:Monospace; font-size:10pt; color:#000000">mysql://user:password@host/database?charset=cp1251_koi8
<br>
</span><span style="font-family:FreeSetC,Arial; font-size:12pt; color:#000000"><b>
<br>
</b></span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">In this case right after connection to the server Parser will executes command </span><span style="font-family:Monospace; font-size:10pt; color:#000000">"<b>SET&nbsp;CHARACTER&nbsp;SET&nbsp;cp1251_koi8</b>".
<br>
</span><span style="font-family:Arial; font-size:10pt; color:#000000">MySQL server version 3.x and 4.0 understands this option in different way, it will transcode receiving data from </span><span style="font-family:Monospace; font-size:10pt; color:#000000">cp1251</span><span style="font-family:Arial; font-size:10pt; color:#000000"> to </span><span style="font-family:Monospace; font-size:10pt; color:#000000">koi8-r</span><span style="font-family:Arial; font-size:10pt; color:#000000"> and transcode sending data from </span><span style="font-family:Monospace; font-size:10pt; color:#000000">koi8-r</span><span style="font-family:Arial; font-size:10pt; color:#000000"> to </span><span style="font-family:Monospace; font-size:10pt; color:#000000">cp1251</span><span style="font-family:Arial; font-size:10pt; color:#000000">.</span><span style="font-family:FreeSetC,Arial; font-size:12pt; color:#000000"><b>
<br>

<br>
</b></span><span style="font-family:Arial; font-size:10pt; color:#000000"><i>Note: </i><i>for MySQL server version 3.x and 4.0 </i><i>value defines transcode directions, herewith server </i><i>is not supported other values</i><i>, for example </i><i>koi8_cp1251</i><i>.</i></span><span style="font-family:FreeSetC,Arial; font-size:12pt; color:#000000"><b>
<br>

<br>

<br>
Example: DB in win</b><b>dows-1251</b><b>, </b><b>pages are in koi8-r, </b><b>transcoding by </b><b>Parser </b><b>driver (for any version of </b><b>MySQL </b><b>server)
<br>
</b></span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">In some cases it's unable to use MySQL server transcode functions. In this case you can use driver transcode functions with </span><span style="font-family:Monospace; font-size:10pt; color:#000000">ClientCharset</span><span style="font-family:Arial; font-size:10pt; color:#000000"> option</span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">.
<br>
Assume, data in your database is stored in </span><span style="font-family:Monospace; font-size:10pt; color:#000000">windows-1251</span><span style="font-family:Arial; font-size:10pt; color:#000000">,  </span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">while pages are in </span><span style="font-family:Monospace; font-size:10pt; color:#000000">koi8-r</span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">, connect string should look like this:
<br>
</span><span style="font-family:Monospace; font-size:10pt; color:#000000">mysql://user:password@host/database?<a href=app3clientcharset.htm>ClientCharset</a>=windows-1251
<br>
</span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">
<br>
For Parser code all received data will be automatically converted from </span><span style="font-family:Monospace; font-size:10pt; color:#000000">windows-1251</span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000"> to </span><span style="font-family:Monospace; font-size:10pt; color:#000000"><b><a href=requestcharset.htm>$request:charset</a></b></span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000"> (</span><span style="font-family:Monospace; font-size:10pt; color:#000000">koi8-r</span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000"> in this example).
<br>
</span><span style="font-family:FreeSetC,Arial; font-size:12pt; color:#000000"><b>
<br>
</b></span><span style="font-family:Arial; font-size:10pt; color:#000000"><i>Note: in this case you should specify character set used for storing data in </i><i>database</i><i>.</i></span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">
<br>
</span><span style="font-family:Arial; font-size:10pt; color:#000000"><i>Note: </i><i>in this option you must use Parser character set names, defined in </i><i><a href=parserconfmethod.htm>configuration file</a></i><i>.</i></span><span style="font-family:FreeSetC,Arial; font-size:12pt; color:#000000"><b>
<br>
</b></span><span style="font-family:Arial; font-size:10pt; color:#000000"><i> </i></span><span style="font-family:FreeSetC,Arial; font-size:10pt; color:#000000">
<br>

<br>
</span></span><br>

<!--(later)#include virtual="/docs/comment.html" -->


<hr size=1>
<table border="0" cellspacing="0" cellpadding="0" width="100%">
<tr valign="top">
<td><font size="1">Copyright &copy; 1997&#150;2011 Art. Lebedev Studio | <a href="http://www.artlebedev.com/" target="_blank">http://www.artlebedev.com</a></font></td>
<td align="right"><font size="1">Last updated: 19.08.2008</font></td>
</tr>
</table>
</body>
</html>

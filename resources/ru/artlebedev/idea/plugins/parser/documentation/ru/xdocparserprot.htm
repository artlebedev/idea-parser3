<html>
<head>
    
    
    <title>parser://метод/параметр. Чтение XML из произвольного источника</title><meta content="text/html; charset=utf-8" http-equiv="Content-Type">

    

</head>

<body>


<table border="0" cellspacing="0" cellpadding="2">
  <tr>
    <td>
      
<span class="h1"><b>parser://метод/параметр. Чтение XML из произвольного источника&nbsp;&nbsp;&nbsp;</b><span><b><i>[3.1.2]</i></b></span><span class="h1"><b>
<br />
</b></span></span>
    </td>
  </tr>
  <tr><td><div class="greenline"></div></td></tr>
</table>
<br />



<span>Parser может считать XML из произвольного источника.
<br />
Везде, где можно считать XML, можно задать адрес документа вида…
<br />
<span class="mono">parser://метод/параметр
<br />
</span><span>
<br />
Считывание документа по такому адресу приводит чтению результата работы метода Parser, </span><span class="mono"><b>^метод[/параметр]</b></span><span>.
<br />

<br />
</span><span class="h1"><b>Пример хранения XSL шаблонов в базе данных
<br />
</b></span><span class="mono"><span class="monoblue"><b>@main[]
<br />
…
<br />
#&nbsp;к&nbsp;этому&nbsp;моменту&nbsp;в&nbsp;$xdoc&nbsp;находится&nbsp;документ,&nbsp;который&nbsp;хотим&nbsp;преобразовать
<br />
^xdoc.transform[parser://xsl_database/main.xsl]</b></span></span><span class="mono"><b>
<br />

<br />
</b><span class="monoblue"><b>@xsl_database[name]
<br />
^string:sql{</b></span></span><span class="mono"><b>select&nbsp;text&nbsp;from&nbsp;xsl&nbsp;where&nbsp;name='</b><span class="monoblue"><b>$name</b></span></span><span class="mono"><b>'</b><span class="monoblue"><b>}</b></span></span><span class="mono"><b>
<br />

<br />
</b></span><span>Причем относительные ссылки будут обработаны точно также, как если бы файлы читались с диска.
<br />
Скажем, если </span><span class="mono">parser://xsl_database/main.xsl</span><span> ссылается на </span><span class="mono">utils/common.xsl</span><span>, будет загружен документ
<br />
</span><span class="mono">parser://xsl_database/utils/common.xsl</span><span>, для чего будет вызван метод </span><span class="mono"><b>^xsl_database[/utils/common.xsl]</b></span><span>.
<br />
</span></span><br />




</body>
</html>
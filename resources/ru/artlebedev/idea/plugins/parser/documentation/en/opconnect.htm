<html>
<head>
    
    
    <title>connect. Connecting to a database</title>

    

</head>

<body>


<table border="0" cellspacing="0" cellpadding="2">
  <tr>
    <td>
      
<span><b>connect. Connecting to a database
<br />
</b></span>
    </td>
  </tr>
  <tr><td bgcolor="#99D228" height="3"></td></tr>
</table>
<br />



<span><b>^connect[connect&nbsp;string]{code}
<br />
</b><span>
<br />
Operator </span><span><b>connect</b></span><span> establishes connection to DB server. The code of the operator is processed by Parser within current connection.
<br />

<br />
<i>When used as a </i><i><a href="install4apachecgi.htm">module to Apache</a></i><i> </i><i>or </i><i> </i><i><a href="install4iis.htm">IIS</a></i><i>) </i><i>Parser caches connections to SQL-servers. In case a script attempts a connection with the same connect string twice, Parser doesn't connect to SQL-server but takes result of SQL-connection from cache, if connection is still valid.
<br />

<br />
CGI-version also caches connections, but for a single http request only. That is why you can certainly use such constructions as:
<br />
</i>
<br />
</span><span><b><i>^connect[</i></b><b><i>connect&nbsp;string</i></b><b><i>]{&#133;first&nbsp;SQL&nbsp;query&#133;}
<br />
^connect[</i></b><b><i>connect&nbsp;string</i></b><b><i>]{&#133;second&nbsp;SQL&nbsp;query&#133;}
<br />
</i></b></span><span><i>
<br />
</i><i>There will not be two SQL connections. It is especially useful when a connection is needed only sometimes and you cannot be sure you will always need it. In this case you may avoid doing it beforehand by doing it visually multiple times and be sure that the connection will not be broken.
<br />
</i>
<br />
We use the following methods and constructors to perform SQL-query:
<br />

<br />
</span><span><b><a href="tablesql.htm">table::sql</a></b><b>
<br />
</b><b><a href="stringsql.htm">string:sql</a></b><b>
<br />
</b><b><a href="voidsql.htm">void:sql</a></b><b>
<br />
</b><b><a href="hashsql.htm">hash::sql</a></b><b>
<br />
</b><b><a href="intdoublesql.htm">int:sql</a></b><b>
<br />
</b><b><a href="intdoublesql.htm">double:sql</a></b><b>
<br />
</b><b><a href="filesql.htm">file::sql</a></b><b>
<br />
</b></span><span>
<br />
Note: to work with operator </span><span><b>connect</b></span><span>, you need to have an appropriately configured driver (see <a href="install.htm">Configuration</a>).&nbsp;&nbsp;&nbsp;
<br />

<br />
Formats of connect string to be used with supported DB servers are described in  <a href="app3.htm">appendix</a>.
<br />
</span><span><b>
<br />
</b><b>Example</b></span><span><b>
<br />
</b></span><span><span><b>^connect[</b></span></span><span><span><b><a href="app3mysql.htm">mysql://admin:pwd@localhost/p3test</a></b></span></span><span><span><b>]{
<br />
&nbsp;&nbsp;&nbsp;$news[^</b></span></span><span><span><b><a href="tablesql.htm">table::sql</a></b></span></span><span><span><b>{</b></span></span><span><b>select&nbsp;*&nbsp;from&nbsp;news</b><span><b>}]
<br />
}</b></span></span><span>
<br />
</span></span><br />




</body>
</html>
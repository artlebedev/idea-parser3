<html>
<head>
    
    
    <title>memory. Information on memoryâ€”controlled by garbage collector</title><meta content="text/html; charset=utf-8" http-equiv="Content-Type">

    

</head>

<body>


<table border="0" cellspacing="0" cellpadding="2">
  <tr>
    <td>
      
<span class="h1"><b>memory. Information on memory-controlled by garbage collector
<br />
</b></span>
    </td>
  </tr>
  <tr><td><div class="greenline"></div></td></tr>
</table>
<br />



<span>This field is a <a href="hash.htm">hash</a> containing information on memory controlled by garbage collector.<span class="h1">
<br />
</span><span>
<br />
<table border="0" cellpadding="1"><tr><td align="left" valign="top" width="239">
<span><b><i>Field</i></b>
<br />
</span></td><td align="left" valign="top" width="196">
<span><b><i>Value (in kilobytes)</i></b><span style="font-family:MS Sans Serif; font-size:8pt; color:#000000">
<br />
</span></span></td><td align="left" valign="top" width="180">
<span><b><i>Details</i></b>
<br />
</span></td></tr><tr><td align="left" valign="top" width="239">
<span class="mono"><b>used</b><span>
<br />
</span></span></td><td align="left" valign="top" width="196">
<span>memory used
<br />
</span></td><td align="left" valign="top" width="180">
<span>This number does not include size of housekeeping data used by garbage collector itself.<span>
<br />
</span></span></td></tr><tr><td align="left" valign="top" width="239">
<span class="mono"><b>free</b><span>
<br />
</span></span></td><td align="left" valign="top" width="196">
<span>free memory
<br />
</span></td><td align="left" valign="top" width="180">
<span>Free memory is most probably fragmented.<span style="font-family:MS Sans Serif; font-size:8pt; color:#000000">
<br />
</span></span></td></tr><tr><td align="left" valign="top" width="239">
<span class="mono"><b>ever_allocated_since_compact</b><span>
<br />
</span></span></td><td align="left" valign="top" width="196">
<span>How much memory was allocated since last garbage cleaning, see <span class="mono"><b><a href="memorycompact.htm">memory:compact</a></b></span><span>.
<br />
</span></span></td><td align="left" valign="top" width="180">
<span>This number constantly increases between garbage cleaning procedures.
<br />
Freeing memory procedures alone do not affect it. It is affected only by garbage cleaning procedures.<span style="font-family:MS Sans Serif; font-size:8pt; color:#000000">
<br />
</span></span></td></tr><tr><td align="left" valign="top" width="239">
<span class="mono"><b>ever_allocated_since_start</b><span>
<br />
</span></span></td><td align="left" valign="top" width="196">
<span>How much memory was allocated during the whole request processing<span style="font-family:MS Sans Serif; font-size:8pt; color:#000000">
<br />
</span></span></td><td align="left" valign="top" width="180">
<span>This number constantly increases. It is affected by neither garbage cleaning procedures nor freeing memory procedures between them.
<br />
</span></td></tr></table>
<br />

<br />
</span><span class="h1"><b>Recommended way of analysing</b></span><span><u>
<br />
</u>Surround the block to be checked with constructions&#133;
<br />

<br />
</span><span class="mono"><b>^musage[before&nbsp;XXX]
<br />
^musage[after&nbsp;XXX]
<br />
</b></span><span>
<br />
&#133;to call this method:
<br />

<br />
</span><span class="mono"><span class="monoblue"><b>@musage[comment][v;now;prefix;message;line]
<br />
$v[$status:memory]
<br />
$now[^</b></span></span><span class="mono"><span class="monoblue"><b><a href="datenow.htm">date::now</a></b></span></span><span class="mono"><span class="monoblue"><b>[]]
<br />
$prefix[[^now.</b></span></span><span class="mono"><span class="monoblue"><b><a href="datesqlstring.htm">sql-string</a></b></span></span><span class="mono"><span class="monoblue"><b>[]]&nbsp;</b></span></span><span class="mono"><span class="monoblue"><b><a href="envhttpfield.htm">$env:REMOTE_ADDR</a></b></span></span><span class="mono"><span class="monoblue"><b>:&nbsp;$comment]
<br />
$message[$v.used&nbsp;$v.free&nbsp;$v.ever_allocated_since_compact&nbsp;$v.ever_allocated_since_start&nbsp;</b></span></span><span class="mono"><span class="monoblue"><b><a href="requesturi.htm">$request:uri</a></b></span></span><span class="mono"><span class="monoblue"><b>]
<br />
$line[$prefix&nbsp;$message&nbsp;</b></span></span><span class="mono"><span class="monoblue"><b><a href="stringlit.htm">^#0A</a></b></span></span><span class="mono"><span class="monoblue"><b>]
<br />
^line.</b></span></span><span class="mono"><span class="monoblue"><b><a href="stringsave.htm">save</a></b></span></span><span class="mono"><span class="monoblue"><b>[append;/musage.log]
<br />
$</b></span></span><span class="mono"><span class="monoblue"><b><a href="definemethod.htm">result</a></b></span></span><span class="mono"><span class="monoblue"><b>[]</b></span></span><span class="mono"><b>
<br />
</b></span><span>
<br />
&#133;and analyze the log.
<br />

<br />
<i>Important notice: while working, Parser takes additional memory blocks from system as required. That is why it is normal when both </i></span><span class="mono"><b><i>used</i></b></span><span><i> and </i></span><span class="mono"><b><i>free</i></b></span><span><i> increase from time to time.
<br />
</i>
<br />
Note: it is not recommended to store log file within web-space.
<br />
</span></span><br />




</body>
</html>